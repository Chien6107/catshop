<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Đăng nhập - CatShop</title>
  <link rel="stylesheet" href="a.css">
</head>
<body>
  <div class="form-box">
    <h2>Đăng nhập</h2>
    <input type="text" id="username" placeholder="Tên đăng nhập">
    <input type="password" id="password" placeholder="Mật khẩu">
    <button onclick="login()">Đăng nhập</button>
    <p>Chưa có tài khoản? <a href="#" onclick="register()">Đăng ký</a></p>
  </div>

  <script>
    function login() {
      const storedUser = localStorage.getItem("user");
      const u = document.getElementById("username").value.trim();
      const p = document.getElementById("password").value.trim();

      if (!storedUser) {
        alert("Chưa có tài khoản nào được đăng ký!");
        return;
      }

      const user = JSON.parse(storedUser);
      if (user.username === u && user.password === p) {
        localStorage.setItem("loggedIn", "true");
        window.location.href = "index.html";
      } else {
        alert("Sai tên đăng nhập hoặc mật khẩu!");
      }
    }

    function register() {
      const u = prompt("Tạo tên đăng nhập:").trim();
      const p = prompt("Tạo mật khẩu:").trim();

      if (u && p) {
        localStorage.setItem("user", JSON.stringify({ username: u, password: p }));
        alert("Tạo tài khoản thành công! Vui lòng đăng nhập.");
      } else {
        alert("Tên đăng nhập và mật khẩu không được bỏ trống.");
      }
    }
  </script>
</body>
</html>
